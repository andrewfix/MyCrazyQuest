title: My Crazy Island
description: Welcome to my crazy island! It's crazy
initialState: laboratoryEntrance
states:

  laboratoryEntrance:
    className: LaboratoryEntranceState
    description: "Вы находитесь у входа в секретную лабораторию. Вокруг темно и холодно. Спереди виднеется коридор."
    transitions:
      "идти в коридор": darkCorridor
      "осмотреть окрестности": checkSurroundings

  checkSurroundings:
    className: CheckSurroundingsState
    description: "Вы решили осмотреться вокруг. Внезапно на вас напал зомби-извращенец! Он успел укусить вас, и вы почувствовали сильную боль и головокружение."
    transitions:
      "вернуться ко входу": laboratoryEntrance

  darkCorridor:
    className: DarkCorridorState
    description: "Вы идете по тёмному коридору. На полу лежат разбитые колбы и что-то склизкое. Справа дверь в лабораторию, все в кровавых отпечатках, слева дверь с надписью 'Арсенал', тоже вся исцарапаная и в подтеках крови."
    transitions:
      "идти в лабораторию": laboratoryRoom
      "идти в арсенал": arsenalRoom
      "двигаться дальше в глубь коридора": darkCorridorContinuation

  laboratoryRoom:
    className: LaboratoryRoomState
    description: "Вы вошли в лабораторию. Вокруг вас колбы с неизвестными жидкостями, и в воздухе витает запах чего-то ядовитого. На столе лежат аптечки, под ним искусанный труп ученого."
    transitions:
      "осмотреть колбы": inspectFlasks
      "взять аптечку": takeMedkit
      "осмотреть труп ученого": inspectScientistCorpse
      "уйти в коридор": darkCorridor

  inspectFlasks:
    className: InspectFlasksState
    description: "Вы решили осмотреть колбы. Одна из них разбилась, и в воздух выпустился токсичный газ. Вы начинаете кашлять и терять ориентацию."
    transitions:
      "вернуться в коридор": darkCorridor

  takeMedkit:
    className: TakeMedkitState
    description: "Вы взяли аптечку. Теперь у вас есть возможность восстановить здоровье."
    itemAcquired: "аптечка"  # Игрок получает аптечку
    transitions:
      "выпить лекарство": useMedkit
      "осмотреть труп ученого": inspectScientistCorpse
      "вернуться в коридор": darkCorridor

  useMedkit:
    className: UseMedkitState
    description: "Вы выпили лекарство из аптечки и почувствовали, как ваше здоровье улучшилось."
    healthEffect: +20  # Восстановление здоровья
    transitions:
      "осмотреть труп ученого": inspectScientistCorpse
      "вернуться в коридор": darkCorridor

  inspectScientistCorpse:
    className: InspectScientistCorpseState
    description: "Вы начали осматривать труп ученого и заметили у него ключ в носке."
    transitions:
      "взять ключ и вернуться в коридор": darkCorridor

  arsenalRoom:
    className: ArsenalRoomState
    description: "Вы вошли в арсенал. Здесь полно оружия и боеприпасов."
    transitions:
      "взять пистолет": takeGun
      "взять ручную гранату": takeGrenade
      "вернуться в коридор": darkCorridor

  takeGun:
    className: TakeGunState
    forward: arsenalRoom

  takeGrenade:
    className: TakeGrenadeState
    forward: arsenalRoom

  darkCorridorContinuation:
    className: DarkCorridorContinuationState
    description: "Коридор продолжается дальше. Спереди два пути: лестница вниз и дверь с надписью 'Офис'"
    showNode: false
    transitions:
      "идти в офис": officeRoom
  #    "спуститься по лестнице": basementEntrance

  officeRoom:
    className: OfficeRoomState
    description: "Вы вошли в офис. На столе лежат документы, а в углу сейф. Вдруг вы слышите шорох за спиной. К Вам направляется зомби-извращенцец"
    transitions:
      "осмотреть документы": inspectDocuments
      "попытаться открыть сейф": openSafe
      "кинуть в него гранату": throwGrenade
      "разрядить всю обойму из пистолета": unloadEntireMagazine
      "кинуться на него с кулаками": attackWithFists

  inspectDocuments:
    showNode: false
    transitions: {}

  openSafe:
    showNode: false
    transitions: {}

  throwGrenade:
    showNode: false
    transitions: { }

  unloadEntireMagazine:
    showNode: false
    transitions: { }

  attackWithFists:
    transitions: { }